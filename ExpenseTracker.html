<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Expense Details</title>
</head>
<body style="margin: 0">
    <form id="handle">
      <label for="expensename">Expense Name</label>
      <input type="text" name="expensename" id="expensename" />
      <label for="expensedescription">Description</label>
      <input type="text" name="expensedescription" id="expensedescription" />
      <label for="expenseamount">Amount</label>
      <input type="number" name="expenseamount" id="expenseamount" />
      <button type="submit">Submit</button>
    </form>
    <ul id="listofitems"></ul>
    <script>   const handleFormSubmit = document.getElementById("handle");

        handleFormSubmit.addEventListener("submit", (event) => {
          event.preventDefault();
    
          const expenseName = event.target.expensename.value;
          const expenseDescription = event.target.expensedescription.value;
          const expenseAmount = event.target.expenseamount.value;
          const expenseObj = {
        expenseName,
        expenseDescription,
        expenseAmount,
      };

      // Check if editing an existing expense
      const existingItem = localStorage.getItem(expenseDescription);
      if (existingItem) {
        // Edit existing object
        const parsedObj = JSON.parse(existingItem);
        parsedObj.expenseName = expenseName;
        parsedObj.expenseDescription = expenseDescription;
        parsedObj.expenseAmount = expenseAmount;
        localStorage.setItem(expenseDescription, JSON.stringify(parsedObj));
      } else {
        // New expense, store it
        localStorage.setItem(expenseDescription, JSON.stringify(expenseObj));
      }

      show(expenseObj); // Update the list even for edits
    });
    function show(expenseObj) {
      const userDetailsList = document.getElementById('listofitems');

      const listItem = document.createElement('li');
      listItem.textContent = `${expenseObj.expenseName} - ${expenseObj.expenseDescription} - ${expenseObj.expenseAmount}`;

      const deleteButton = document.createElement('button');
      deleteButton.textContent = 'Delete';
      deleteButton.onclick = () => {
        localStorage.removeItem(expenseObj.expenseDescription); Â  

        userDetailsList.removeChild(listItem);
      };
      const editButton = document.createElement('button');
      editButton.textContent = 'Edit Details';
      editButton.onclick = () => {
        // Pre-fill the form with existing values for edit
        document.getElementById('expensename').value = expenseObj.expenseName;
        document.getElementById('expensedescription').value = expenseObj.expenseDescription;
        document.getElementById('expenseamount').value = expenseObj.expenseAmount;
      };

      listItem.appendChild(deleteButton);
      listItem.appendChild(editButton);
      userDetailsList.appendChild(listItem);
    }</script>
</body>

</html>